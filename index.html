<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf8" />
    <title>Piano chord visualizer</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.2/font/bootstrap-icons.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous" />
    <link rel="stylesheet" href="piano-keyboard.css" />
    <link rel="stylesheet" href="music.css" />

    <!-- <script src="assets/abcjs-plugin-min.js" type="text/javascript"></script> -->
    <script src='https://wp.abcjs.net/wp-content/plugins/abc-notation/abcjs-basic-min.js?ver=6.1.1' id='abcjs-plugin-js'></script>
    <script src="assets/abc-notes.js" type="text/javascript"></script>

    <!--
      <meta http-equiv="refresh" content="1.5" >
    -->
  </head>
  <body class="d-flex flex-column h-100 min-vh-100">
    <script type = "text/javascript">  
      window.onload = abcNotesConvert
    </script>
    <main class="bg-secondary text-white flex-grow-1">
        <h1>Piano chord visualizer</h1>

        <label for="root-notes-group" class="form-label"><i class="bi bi-music-note"></i> Root note</label>
        <div class="btn-toolbar mb-3" role="toolbar" aria-label="Toolbar with button groups">
          <div id="root-notes-group" class="btn-group me-2" role="group" aria-label="Root notes group">
            <button type="button" class="btn btn-outline-light">C<div class="abc-notes" id="C">C</div></button>
            <button type="button" class="btn btn-outline-light">C♯<div class="abc-notes" id="C♯">^C</div></button>
            <button type="button" class="btn btn-outline-light">D<div class="abc-notes" id="D">D</div></button>
            <button type="button" class="btn btn-outline-light">E♭<div class="abc-notes" id="E♭">_E</div></button>
            <button type="button" class="btn btn-outline-light">E<div class="abc-notes" id="E">E</div></button>
            <button type="button" class="btn btn-outline-light">F<div class="abc-notes" id="F">F</div></button>
            <button type="button" class="btn btn-outline-light">F♯<div class="abc-notes" id="F♯">^F</div></button>
            <button type="button" class="btn btn-outline-light">G<div class="abc-notes" id="G">G</div></button>
            <button type="button" class="btn btn-outline-light">A♭<div class="abc-notes" id="A♭">_A</div></button>
            <button type="button" class="btn btn-outline-light">A<div class="abc-notes" id="A">A</div></button>
            <button type="button" class="btn btn-outline-light">B♭<div class="abc-notes" id="B♭">_B</div></button>
            <button type="button" class="btn btn-outline-light">B<div class="abc-notes" id="B">B</div></button>

            <button type="button" class="btn btn-outline-light">C<div class="abc-notes" id="c">c</div></button>
            <button type="button" class="btn btn-outline-light">C♯<div class="abc-notes" id="c♯">^c</div></button>
            <button type="button" class="btn btn-outline-light">D<div class="abc-notes" id="d">d</div></button>
            <button type="button" class="btn btn-outline-light">E♭<div class="abc-notes" id="e♭">_e</div></button>
            <button type="button" class="btn btn-outline-light">E<div class="abc-notes" id="e">e</div></button>
            <button type="button" class="btn btn-outline-light">F<div class="abc-notes" id="f">f</div></button>
            <button type="button" class="btn btn-outline-light">F♯<div class="abc-notes" id="f♯">^f</div></button>
            <button type="button" class="btn btn-outline-light">G<div class="abc-notes" id="g">g</div></button>
            <button type="button" class="btn btn-outline-light">A♭<div class="abc-notes" id="a♭">_a</div></button>
            <button type="button" class="btn btn-outline-light">A<div class="abc-notes" id="a">a</div></button>
            <button type="button" class="btn btn-outline-light">B♭<div class="abc-notes" id="b♭">_b</div></button>
            <button type="button" class="btn btn-outline-light">B<div class="abc-notes" id="b">b</div></button>            

            <button type="button" class="btn btn-outline-light">C<div class="abc-notes" id="c'">c'</div></button>
          </div>
        </div>

        <label for="chord-types-group" class="form-label"><i class="bi bi-music-note-beamed"></i> Chord type</label>
        <div class="btn-toolbar mb-3" role="toolbar2" aria-label="Toolbar with button groups">
          <div id="chord-types-group" class="btn-group me-2" role="group2" aria-label="Chord types group">
            <button type="button" class="btn btn-outline-light">Major</button>
            <button type="button" class="btn btn-outline-light">Minor</button>
            <button type="button" class="btn btn-outline-light">Diminished</button>
          </div>
        </div>

        
        <div id="piano-keyboard">

          <span class="key key-natural" id="C4"><span class="key-text">C</span></span>
          <span class="key key-sharp key-C♯" id="C♯4">C♯<sub>4</sub></span>
          <span class="key key-natural" id="D4">D</span>
          <span class="key key-sharp key-E♭" id="E♭4">E♭</span>
          <span class="key key-natural" id="E4">E</span>
          <span class="key key-natural" id="F4">F</span>
          <span class="key key-sharp key-F♯" id="F♯4">F♯</span>
          <span class="key key-natural" id="G4">G</span>
          <span class="key key-sharp" id="G♯4">G♯</span>
          <span class="key key-natural" id="A4">A</span>
          <span class="key key-sharp key-B♭" id="B♭4">B♭</span>
          <span class="key key-natural" id="B4">B</span>

          <span class="key key-natural" id="C5">C</span>
          <span class="key key-sharp key-C♯" id="C♯5">C♯</span>
          <span class="key key-natural" id="D5">D</span>
          <span class="key key-sharp key-E♭" id="E♭5">E♭</span>
          <span class="key key-natural" id="E5">E</span>
          <span class="key key-natural" id="F5">F</span>
          <span class="key key-sharp key-F♯" id="F♯5">F♯</span>
          <span class="key key-natural" id="G5">G</span>
          <span class="key key-sharp" id="G♯5">G♯</span>
          <span class="key key-natural" id="A5">A</span>
          <span class="key key-sharp key-B♭" id="B♭5">B♭</span>
          <span class="key key-natural" id="B5">B</span>

          <span class="key key-natural" id="C6">C</span>

        </div>
      </div>

      <br />
      <script>
        function add_dots(key_spec) {
          keys = key_spec.split(" ")
          for (i in keys) {
            key = keys[i]
            console.trace(key)
            console.trace("\n")
            elm = document.getElementById(key);
            // color = "red"
            // if (elm.classList.contains("key-sharp")) {
            //   color = "yellow"
            // }
            elm.style.color = color
          }
        }
      </script>
      <button id="add-dots" onclick="add_dots('C♯4 D5 E5')" >Add Dots</button>
    </main>
  </body>
</html>